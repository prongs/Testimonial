{%import json%}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Testimonial</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/static/bootstrap/css/bootstrap-wysihtml5.css" rel="stylesheet">
    <link href="/static/dojo/1.8.3/dijit/themes/soria/soria.css" rel="stylesheet">
    <link href="/static/dojo/1.8.3/dijit/themes/tundra/tundra.css" rel="stylesheet">
    <link href="/static/dojo/1.8.3/dijit/themes/claro/claro.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="/static/bootstrap/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/bootstrap/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/bootstrap/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/bootstrap/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="/static/bootstrap/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="/static/bootstrap/ico/favicon.png">
    <!-- Style overrides: -->
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .img-profile{
        width:30px;
        height:30px;
      }
      .profile-name{
        display: inline-block !important;
        padding-left: 1px !important;
      }
      .friend_row{
        cursor:pointer;
      }
    </style>
    <script type="text/javascript">
      var dojoConfig=(function(){
          return {
              async:true,
              isDebug:true,
              parseOnLoad:true,
              packages:[{
                  name:"testimonial",
                  location: location.origin+"/static/dojo/Testimonial"
              }],
          };

      })();
    </script>
    <script type="text/javascript" src="/static/dojo/1.8.3/dojo/dojo.js"></script>
    <script type="text/javascript">
      require([
          "dijit/dijit",
          "dojo/parser",
          "testimonial/MainViewWidget",
        ]);
    </script>
  </head>

  <body class="claro">

    <div id="top_navbar" class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/">Testimonial</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="span6 offset1">
                <form class="navbar-form form-search">
                  <div class="input-append">
                    <input class="span4 search-query" type="text" placeholder="Search...">
                    <button type="submit" class="btn">Search</button>
                  </div>
                </form>
              </li>
              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li class="nav-header">Notifications</li>
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Messages</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
              <!-- <li><i class="icon-exclamation-sign icon-white"></i></li> -->
              <li class="dropdown">
                <img class="img-rounded img-profile inline" src="{{user['picture']['data']['url']}}" />
                <a href="#" class="dropdown-toggle profile-name" data-toggle="dropdown">{{user['name']}} <b class="caret"></b></a>
                <ul class="dropdown-menu">
                  <li><a href="#">Action</a></li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li class="divider"></li>
                  <li class="nav-header">Nav header</li>
                  <li><a href="#">Separated link</a></li>
                  <li><a href="#">One more separated link</a></li>
                </ul>
              </li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div id="mainWidget_div" data-dojo-type="testimonial.MainViewWidget"></div>
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <div id="fb-root"></div>
    <script type="text/javascript">
      // You probably don't want to use globals, but this is just example code
      var fbAppId = "{{facebook_app_id}}";

      // This is boilerplate code that is used to initialize the Facebook
      // JS SDK.  You would normally set your App ID in this code.

      // Additional JS functions here
      window.fbAsyncInit = function() {
        FB.init({
          appId      : fbAppId,        // App ID
          status     : true,           // check login status
          cookie     : true,           // enable cookies to allow the server to access the session
          xfbml      : true            // parse page for xfbml or html5 social plugins like login button below
        });

        // Put additional init code here
        FB.api('/me/friends', function(response) {
          if(response.data) {
              //TODO : what to do if no. of friends is more than 5000 (pagination by fb)
              friends_data=response.data;
          } else {
            friends_data= JSON.parse('{"data":[{"name":"Malika Garg","id":"514952320"},{"name":"Karman Batra","id":"521743659"},{"name":"Shriram Appan","id":"543746279"},{"name":"Anvit Tawar","id":"548411709"},{"name":"Vrinda Singh","id":"549178592"},{"name":"Ankur Gupta","id":"553899797"},{"name":"Abhinav Garg","id":"558682010"},{"name":"Deepanshu Agarwal","id":"595661268"},{"name":"Sankalp Jain","id":"607372466"},{"name":"Salik Warsi","id":"614536078"},{"name":"Kanav Goyal","id":"642147758"},{"name":"Abhishek Malhotra","id":"645824523"},{"name":"Utkarsh Ohm","id":"664546430"},{"name":"Gaurav Garg","id":"691271700"},{"name":"Anupam Upadhyay","id":"715372729"},{"name":"Harsh Choudhary","id":"721758699"},{"name":"Ankit Gupta","id":"726597006"},{"name":"Sumeet Choudhary","id":"740068786"},{"name":"नरेन्द्र सिसोदिया","id":"753383296"},{"name":"Danish Sharma","id":"754467768"},{"name":"Vikas Prajapati","id":"765334045"},{"name":"Shaurya Pratap","id":"831019653"},{"name":"Nss Iitd","id":"836036601"},{"name":"Affan Mohammad","id":"848410253"},{"name":"Ravi Meena","id":"1000119373"},{"name":"Shashank Goyal","id":"1026261959"},{"name":"Akshay Garg","id":"1044415226"},{"name":"Shadman Anwer","id":"1056378196"},{"name":"Anil Kumar Bunkar","id":"1086657995"},{"name":"Nishant Jaiswal","id":"1132265224"},{"name":"Avnish Kumar","id":"1146600605"},{"name":"Ankit Balotia","id":"1152204834"},{"name":"Honey Patodi","id":"1154650412"},{"name":"Savin Goyal","id":"1193421976"},{"name":"Ramanshu Mahaur","id":"1218115333"},{"name":"Alok Singh","id":"1220347036"},{"name":"Naman Dwivedi","id":"1229373078"},{"name":"Rajat Agarwal","id":"1238603086"},{"name":"Nishita Agarwal","id":"1266960733"},{"name":"Tavneet Bedi","id":"1288478213"},{"name":"Satyandra Meena","id":"1323720750"},{"name":"Durgesh Choudhary","id":"1332979118"},{"name":"Kartik Maheshwari","id":"1348632455"},{"name":"Ashish Agarwal","id":"1356167901"},{"name":"Aayush Khandelwal","id":"1362362717"},{"name":"Nitesh Mor","id":"1369484606"},{"name":"Saumya Yadav","id":"1396211068"},{"name":"Akash Mehta","id":"1405323763"},{"name":"Akshat Goel","id":"1418103665"},{"name":"Amit Sharma","id":"1419019369"},{"name":"Ankur Goyal","id":"1432932974"},{"name":"Dhruv Jain","id":"1438671264"},{"name":"Sushil Agrawal","id":"1455304889"},{"name":"Nitin Jain","id":"1456756025"},{"name":"Niteesh Verma","id":"1493737437"},{"name":"Anshul Sharma","id":"1502705298"},{"name":"Siddharth Bora","id":"1509637086"},{"name":"Abhimanyu Singh","id":"1514636698"},{"name":"Sanchit Jain","id":"1562744471"},{"name":"Ankit Garg","id":"1598022719"},{"name":"Saurabh Gupta","id":"1604082661"},{"name":"Brij Mohan","id":"1604723499"},{"name":"Samar Ahmed","id":"1608848723"},{"name":"Parag Goel","id":"1612192032"},{"name":"Nishant Yadav","id":"1617804487"},{"name":"Manoj Shah","id":"1649973046"},{"name":"Abhinn Kothari","id":"1658128027"},{"name":"Cv Ambarish","id":"1669565477"},{"name":"Kanwal Prakash Singh","id":"1692920864"},{"name":"Mihir Mehta","id":"1693669298"},{"name":"Sai Teja Reddy","id":"1704932235"},{"name":"Sidhartha Gupta","id":"1722781415"},{"name":"Gaurav Chauhan","id":"1750651389"},{"name":"Ankit Nayan","id":"1756978412"},{"name":"LoveJeet Singh","id":"1758238136"},{"name":"Abhinav Kumar","id":"1762681528"},{"name":"Alankrit Chona","id":"1769153153"},{"name":"Harsh Gupta","id":"1774141476"},{"name":"Tarang Gupta","id":"1778606149"},{"name":"Pallav Agrawal","id":"1796967924"},{"name":"Abhinav Batra","id":"1820169185"},{"name":"Ayush Bansal","id":"1820428043"},{"name":"Aman Mittal","id":"1826406128"},{"name":"Mukul Sajnani","id":"1831303539"},{"name":"Deepesh Kedia","id":"1845319023"},{"name":"Sahil Garg","id":"1847534174"},{"name":"Rajat Yadav","id":"1851070405"},{"name":"Sahil Arora","id":"100000003523634"},{"name":"Amit Agarwal","id":"100000003544965"},{"name":"Jatin Kumar","id":"100000007830013"},{"name":"Anurag Tiwari","id":"100000020710052"},{"name":"Ojasvi Garg","id":"100000031758849"},{"name":"Ajay Kumar","id":"100000038803252"},{"name":"Rohan Sharma","id":"100000055980908"},{"name":"Srishti Tanwani","id":"100000069892253"},{"name":"Gaurav Agarwal","id":"100000077262328"},{"name":"Bhuvan Teja","id":"100000077840954"},{"name":"Ruchin Kukreja","id":"100000079131399"},{"name":"Akshay Yadav","id":"100000080126682"},{"name":"Keshav Choudhary","id":"100000080470752"},{"name":"Himanshu Meenia","id":"100000087888889"},{"name":"Parth Jaiswal","id":"100000102637102"},{"name":"Devashish Tyagi","id":"100000104375927"},{"name":"Gaurav Chaudhary","id":"100000105254861"},{"name":"Nikita Gupta","id":"100000106091471"},{"name":"Rahul Gupta","id":"100000109512904"},{"name":"Kartik Bansal","id":"100000111758787"},{"name":"PC Yadav","id":"100000117701613"},{"name":"Mayank Singh Gurjar","id":"100000119122389"},{"name":"Saurabh Kumar","id":"100000120727163"},{"name":"Sudhanshu Shekhar","id":"100000122079013"},{"name":"Lalit Kumar","id":"100000122779708"},{"name":"Gaurav Ashok","id":"100000125204357"},{"name":"Deepak Sharma","id":"100000127657112"},{"name":"Alok Yadav","id":"100000133044084"},{"name":"Himanshu Shekhar","id":"100000133657208"},{"name":"Rohit Pal","id":"100000135347962"},{"name":"Abhishek Gangwal","id":"100000135427198"},{"name":"Harshal Jain","id":"100000135613777"},{"name":"Jai Chaudhary","id":"100000136994329"},{"name":"Vineet Mimrot","id":"100000139786896"},{"name":"Neeraj Kadiyan","id":"100000141106809"},{"name":"Hariom Meena","id":"100000145315937"},{"name":"Rahul Sindhu","id":"100000145937058"},{"name":"Yogesh Pachar","id":"100000151984152"},{"name":"Mukesh Agrawal","id":"100000152046973"},{"name":"Pratyush Shakya","id":"100000156225261"},{"name":"Umesh Rajput","id":"100000158571686"},{"name":"Saurabh Ashok","id":"100000163706622"},{"name":"Aakash Sharma","id":"100000166382976"},{"name":"Rahul Kumar","id":"100000168333011"},{"name":"Amogh Suman","id":"100000170396061"},{"name":"Parikshit Sharma","id":"100000174266703"},{"name":"Mrinal Tambi","id":"100000180003952"},{"name":"Siddhant Ujjain","id":"100000184233164"},{"name":"Ankit Vijay","id":"100000192112770"},{"name":"Parva Goyal","id":"100000209554987"},{"name":"Vakul Jindal","id":"100000210117026"},{"name":"Kishan Suthar","id":"100000210343256"},{"name":"Dileep Dezi","id":"100000230705209"},{"name":"Ashish Ranjan","id":"100000235934318"},{"name":"Anmol Sarin","id":"100000238831189"},{"name":"Ankush Jindal","id":"100000239490034"},{"name":"Deepti Gupta","id":"100000243364907"},{"name":"Shashank Verma","id":"100000255084217"},{"name":"Saurabh Kumar","id":"100000265621599"},{"name":"Ashish Khatke","id":"100000268265773"},{"name":"Prachetos Sadhukhan","id":"100000277960040"},{"name":"Apoorv Garg","id":"100000283721554"},{"name":"Soniya Goyal","id":"100000302436628"},{"name":"Vishal Jain","id":"100000330274026"},{"name":"Vikas Gautam","id":"100000342136351"},{"name":"Rohit Keshri","id":"100000342273101"},{"name":"Ankit Samria","id":"100000344760156"},{"name":"Deepak Vasisht","id":"100000380945906"},{"name":"Nilesh Kanungo","id":"100000394092642"},{"name":"Vinit Doshi","id":"100000409240498"},{"name":"Ankita Balotia","id":"100000418003853"},{"name":"Gautham Iyengar","id":"100000419031539"},{"name":"Deeksha Gautam","id":"100000423786721"},{"name":"Vishal Verma","id":"100000424353714"},{"name":"Shashank Gupta","id":"100000427680779"},{"name":"Ashwini Arvind Choudhary","id":"100000443674656"},{"name":"Puneet Jain","id":"100000453126324"},{"name":"Jitendra Meena","id":"100000469538203"},{"name":"Abhinav Jain","id":"100000475977290"},{"name":"Saurabh Gupta","id":"100000522358571"},{"name":"Harsh Rathi","id":"100000545734242"},{"name":"Mayank Kumar","id":"100000550771212"},{"name":"Alankar Rastogi","id":"100000558194714"},{"name":"Prachi Jain","id":"100000571320520"},{"name":"Anuj Kalia","id":"100000645692206"},{"name":"Anand Sharma","id":"100000676178416"},{"name":"Manmohan Gattani","id":"100000689663237"},{"name":"Vikas Nayak","id":"100000744367633"},{"name":"Naveen Kumar","id":"100000761644954"},{"name":"Nikhil Gupta","id":"100000770792505"},{"name":"Chaandeep K Singhal","id":"100000838433639"},{"name":"Suneet Choudhary","id":"100000859015716"},{"name":"Kuldeep Agrawal","id":"100000937512965"},{"name":"Rituraj Choudhary","id":"100000945704374"},{"name":"Keshav Tiwari","id":"100000946106696"},{"name":"Resonance Iit Jee","id":"100000961675149"},{"name":"Chirag Bansal","id":"100000998332797"},{"name":"Akash Bansal","id":"100001005662534"},{"name":"Srijan Gupta","id":"100001010584091"},{"name":"Nishchal Chandna","id":"100001022247515"},{"name":"Deepak Jain","id":"100001036475228"},{"name":"Ankur Goel","id":"100001047010518"},{"name":"Shiny Agrahari Gupta","id":"100001052663361"},{"name":"Ga Arbit","id":"100001092121643"},{"name":"Rohit Taneja","id":"100001121763269"},{"name":"Mukesh Kela","id":"100001192413271"},{"name":"Chhavi Sukhija","id":"100001255206723"},{"name":"Amogh Suman","id":"100001258692552"},{"name":"Acm Iitd","id":"100001264027511"},{"name":"Nitesh Sharma","id":"100001289654991"},{"name":"Aayush Jindal","id":"100001295147096"},{"name":"Hemant Maheshwari","id":"100001317167483"},{"name":"Ruchi Yadav","id":"100001342890822"},{"name":"Mehul Jain","id":"100001353705147"},{"name":"Pawan Khandelwal","id":"100001355173686"},{"name":"Pawan Khandelwal","id":"100001387924574"},{"name":"Rohit Sharma","id":"100001401034515"},{"name":"Phool Chand Yadav","id":"100001421121751"},{"name":"Mayank Meena","id":"100001430625837"},{"name":"Jitendra Avasthi","id":"100001430794166"},{"name":"Jagpat Singh","id":"100001450861934"},{"name":"Amit Nawani","id":"100001452289279"},{"name":"Adarsh Prasad","id":"100001452535269"},{"name":"Abhishek Gupta","id":"100001472507561"},{"name":"Balram Puniya","id":"100001494727004"},{"name":"Krishan Atoliya","id":"100001516198487"},{"name":"Himanshu Soni","id":"100001540500334"},{"name":"Gaurav Meena","id":"100001547073169"},{"name":"Vijay Garg","id":"100001548450015"},{"name":"Yuganshu Jain","id":"100001573270605"},{"name":"Akhilesh Paswan","id":"100001576378800"},{"name":"Ankit Sharma","id":"100001582098846"},{"name":"Nitesh Sharma","id":"100001600328161"},{"name":"Prem Mishra","id":"100001601156810"},{"name":"Inderjeet Rai","id":"100001603541798"},{"name":"Rajat Mehta","id":"100001617603534"},{"name":"Anshul Kumar Soni","id":"100001620618601"},{"name":"Vikas Garg","id":"100001648203303"},{"name":"Mahesh Meena","id":"100001673993085"},{"name":"Chintu Khandelwal","id":"100001684572182"},{"name":"Abhinav Singh","id":"100001697935499"},{"name":"Ashok Verma","id":"100001771503045"},{"name":"Ram Kishan Verma","id":"100001789120598"},{"name":"Bhuwan Arora","id":"100001789393216"},{"name":"Jatin Khandelwal","id":"100001794161919"},{"name":"Bhupendra Choudhary","id":"100002047947025"},{"name":"Arvind Kejriwal","id":"100002104093966"},{"name":"Anil Agrawal","id":"100002163714186"},{"name":"Rakesh Kumar Jangid","id":"100002205485217"},{"name":"Jitesh Sharma","id":"100002234862141"},{"name":"Jitendra Gupta","id":"100002234998504"},{"name":"Manish Jangid Kakodiya","id":"100002280712418"},{"name":"Rahul Mittal","id":"100002288720676"},{"name":"Ankur Choudhary","id":"100002301288382"},{"name":"Hemendra Mishra","id":"100002324098455"},{"name":"Lucky Sharma","id":"100002455014171"},{"name":"Rhýthm Gupta","id":"100002481829150"},{"name":"Shubham Khandelwal","id":"100002484563113"},{"name":"Hukam Chand Meena","id":"100002492221533"},{"name":"Gaurav Nagpal","id":"100002495185978"},{"name":"Keshav Khandelwal","id":"100002521130101"},{"name":"Chandrakant Jaiman","id":"100002744351886"},{"name":"Divya Jalutharia","id":"100002878013608"},{"name":"Shweta Singh","id":"100002902494500"},{"name":"Omprakash Yadav","id":"100003022927764"},{"name":"Sachin Gupta","id":"100003106852906"},{"name":"Abhishek Gupta","id":"100003335177407"},{"name":"Allee Khan","id":"100003500708078"},{"name":"Shatrudhan Rajput","id":"100003530976288"},{"name":"Save Satpura","id":"100003639622933"},{"name":"Poltu Senior","id":"100003649842878"},{"name":"Kapil Khandelwal","id":"100003799909035"},{"name":"Manish Yadav","id":"100003980781926"},{"name":"Savi Yadav","id":"100004017607232"},{"name":"Himanshu Avasthi","id":"100004019170738"},{"name":"Jaid Mohammad","id":"100004242643532"},{"name":"Dipen Rawal","id":"100004370321929"}],"paging":{"next":"https://graph.facebook.com/100000191247312/friends?access_token=AAAG6z1kHdP…NteiYwR1cSazI819TpYZB63a&limit=5000&offset=5000&__after_id=100004370321929"}}');

              alert("Error!");
          }
          dojo.ready(function(){
            dijit.registry.byId("mainWidget_div").set_friends_data(friends_data);
          });
        });
      };
      // Load the SDK Asynchronously
      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/all.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));

    </script>

    <script src="/static/js/jquery-1.9.1.min.js"></script>
    <script src="/static/js/wysihtml5-0.3.0.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script src="/static/bootstrap/js/bootstrap-wysihtml5.js"></script>
  </body>
</html>
